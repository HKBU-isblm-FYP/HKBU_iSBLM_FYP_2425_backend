import{u as y,k as j,r as p,D as P,f as k,o as i,c as a,a as e,w as c,v as n,F as r,y as d,q as x,t as u,d as D,C as w}from"./index-B-03LEUy.js";import{f as I}from"./CRUD-xJdNO43X.js";import{d as M}from"./project-Kgm5E1UM.js";const C={class:"container"},S={class:"card mb-3"},V=e("div",{class:"card-header"},[e("h3",null," Project Detail ")],-1),T={class:"card-body"},U={class:"row"},B={class:"col-sm-6"},L={class:"mb-3"},E=e("label",{for:"title",class:"form-label"},"Title",-1),F={class:"mb-3"},N=e("label",{for:"id",class:"form-label"},"Progress",-1),R=["value"],q={class:"list-group"},A={class:"d-flex justify-content-between"},G={class:"me-2"},O={key:0,class:"badge text-bg-success"},$={key:1,class:"badge text-bg-danger"},z=e("button",{class:"btn btn-primary"}," Mark",-1),H={class:"mb-3"},J=e("label",{for:"_id",class:"form-label"},"ID",-1),K={class:"mb-3"},Q=e("label",{for:"documents",class:"form-label"},"Documents",-1),W={class:"list-group"},X=["href"],Y={class:"col-sm-6"},Z={class:"mb-3 col-10"},ee=e("label",{for:"image_files",class:"form-label"},"Project Image",-1),se=["src"],te={class:"mb-3"},oe=e("label",{for:"project_structure",class:"form-label"},"Project Structure",-1),le={class:"mb-3"},ie=e("label",{for:"team_membership",class:"form-label"},"Team Members",-1),ae={key:0,class:"list-group"},ce={class:"d-flex justify-content-between"},ne=["onClick"],re={key:1},de=e("input",{type:"text",class:"form-control",id:"title",disabled:"",value:"No Member"},null,-1),ue=[de],ve={__name:"ProjectDetailView",setup(me){y().token;const f=j(),l=p({}),m=f.params.id;let _=p([]);const b=async t=>{let o=await I(t);return o=h(o),o},h=t=>(t.documents&&t.documents[0]&&(t.documents[0].public=t.documents[0].public.map(o=>o.replace("./uploads","/api/uploads"))),t.image&&(t.image=t.image.replace("./uploads","/api/uploads")),t.documents[0]&&t.documents[0].public&&t.documents[0].public.length>0&&t.documents[0].public.forEach(o=>{const s=o.split("/").pop();_.value.push({filename:s,filePath:o})}),t);P(async()=>{console.log("Id from URL: ",m),l.value=await b(m),l.value.documents=_.value,console.log(l.value)});const v=t=>t?t.every(o=>o.isCompleted)?"Completed":"In Progress":"Loading",g=t=>{w.push({name:"user-detail",params:{id:t}})};return k(()=>{}),(t,o)=>(i(),a("div",C,[e("div",S,[V,e("div",T,[e("div",U,[e("div",B,[e("div",L,[E,c(e("input",{type:"text",class:"form-control",id:"title",disabled:"","onUpdate:modelValue":o[0]||(o[0]=s=>l.value.title=s)},null,512),[[n,l.value.title]])]),e("div",F,[N,e("input",{type:"text",class:"form-control",id:"id",disabled:"",value:v(l.value.progress)},null,8,R),e("ul",q,[(i(!0),a(r,null,d(l.value.progress,s=>(i(),a("li",{class:"list-group-item",key:s},[e("div",A,[e("div",null,[e("span",G," Lesson: "+u(s.title),1),s.isCompleted?(i(),a("span",O,"Completed")):(i(),a("span",$,"Incomplete"))]),z])]))),128))])]),e("div",H,[J,c(e("input",{type:"text",class:"form-control",id:"_id",disabled:"","onUpdate:modelValue":o[1]||(o[1]=s=>l.value._id=s)},null,512),[[n,l.value._id]])]),e("div",K,[Q,e("ul",W,[(i(!0),a(r,null,d(l.value.documents,s=>(i(),a("li",{class:"list-group-item",key:s},[e("a",{href:s.filePath},u(s.filename),9,X)]))),128))])])]),e("div",Y,[e("div",Z,[ee,e("img",{src:l.value.image||x(M),class:"img-fluid",alt:"Project Image",id:"image_files"},null,8,se),c(e("input",{type:"text",class:"form-control",id:"image_files",disabled:"","onUpdate:modelValue":o[2]||(o[2]=s=>l.value.image=s)},null,512),[[n,l.value.image]])]),e("div",te,[oe,c(e("textarea",{class:"form-control",id:"project_structure",disabled:"","onUpdate:modelValue":o[3]||(o[3]=s=>l.value.structure=s)},null,512),[[n,l.value.structure]])]),e("div",le,[ie,l.value.member&&l.value.member.length>0?(i(),a("ul",ae,[(i(!0),a(r,null,d(l.value.member,s=>(i(),a("li",{class:"list-group-item",key:s},[e("div",ce,[D(u(s.name||"LIST OF MEMBERS")+" ",1),e("button",{onClick:pe=>g(s.id),class:"btn btn-primary"},"Go to user",8,ne)])]))),128))])):(i(),a("div",re,ue))])])])])])]))}};export{ve as default};
