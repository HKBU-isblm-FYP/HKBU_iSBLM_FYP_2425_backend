import{_ as k,e as y,f as P,g as S,o as c,c as _,h as v,i as b,a as e,F as $,y as L,E as g,d as D,t as w,b as B,p as C,j as I,k as N,r as u,D as V,n as M,A as x,q as j}from"./index-B-03LEUy.js";import{f as R}from"./CRUD-xJdNO43X.js";import T from"./LessonDetailView-C-byPaQp.js";import"./EditorView-BYkc1jRP.js";import"./index-C_YRfJz0.js";import"./index-E_dV9pc7.js";import"./AnnotateView-DuAJ4L_3.js";import"./index-DSMuaTct.js";const s=o=>(C("data-v-c6ed8396"),o=o(),I(),o),A={class:"d-flex flex-column flex-shrink-0 p-3 text-bg-dark text-white position-fixed bottom-0 h-100 sidebar"},q=s(()=>e("span",{class:"bi bi-book-half m-3"},null,-1)),z=s(()=>e("span",{class:"fs-4"},"Lessons Sidebar",-1)),E=s(()=>e("hr",null,null,-1)),F={class:"nav nav-pills flex-column mb-auto text-white"},H=s(()=>e("hr",null,null,-1)),W={class:"dropdown"},G=s(()=>e("a",{href:"#",class:"d-flex align-items-center text-white text-decoration-none dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"bi bi-info-square-fill me-2",style:{"font-size":"1.5vw"}}),e("strong",null,"More")],-1)),O={class:"dropdown-menu dropdown-menu-dark text-small shadow"},U=s(()=>e("li",null,[e("a",{class:"dropdown-item",href:"#"},"Profile")],-1)),J=s(()=>e("li",null,[e("hr",{class:"dropdown-divider"})],-1)),K=s(()=>e("li",null,[e("a",{class:"dropdown-item",href:"#"},"Sign out")],-1)),Q=s(()=>e("hr",null,null,-1)),X={__name:"Sidebar",props:{project:{type:Object,default:()=>({title:"Loading",progress:"Loading"})},page:Number},emits:["updatePage","submit"],setup(o,{emit:m}){const h=y(),t=o,l=m,n=a=>{l("updatePage",a)},r=a=>{h.push({name:"projectDetail",params:{id:a}})};return P(()=>{console.log("Sidebar msg: ",t.project)}),(a,d)=>{const f=S("RouterLink");return c(),_("div",A,[v(f,{to:{name:"project"},class:"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none"},{default:b(()=>[q,z]),_:1}),E,e("ul",F,[(c(!0),_($,null,L(t.project.progress,(p,i)=>(c(),_("li",{key:i,class:"nav-item hover-effect","aria-current":"page"},[v(f,{to:{},onClick:ne=>n(i),class:g(["nav-link text-white",{active:i===t.page}])},{default:b(()=>[e("i",{class:g(["bi",{"bi-arrow-right-circle me-2":i!==t.page,"bi-arrow-right-circle-fill":i===t.page}])},null,2),D(" "+w(p.title),1)]),_:2},1032,["onClick","class"]),e("p",{class:g(["badge badge-pill",[p.isCompleted?"badge-custom completed":"badge-custom"]])},w(p.isCompleted?"Completed":"Not Completed"),3)]))),128)),H,e("div",W,[G,e("ul",O,[e("li",null,[e("button",{class:"dropdown-item",onClick:d[0]||(d[0]=B(p=>r(t.project._id),["prevent"]))},"Project Detail")]),U,J,K])])]),Q])}}},Y=k(X,[["__scopeId","data-v-c6ed8396"]]),Z=o=>(C("data-v-7c258091"),o=o(),I(),o),ee={calss:"container-fluid p-0"},te={class:"row"},oe={class:"col-md-2 me-3"},se={class:"col-md-9 ms-5"},ae=Z(()=>e("br",null,null,-1)),le={__name:"ProjectView",setup(o){const m=N(),h=u(m.params.id),t=u({_id:"Loading"}),l=u(0);let n=u({});return V(async()=>{t.value=await R(h.value),console.log("Got Project",t.value),n.value=t.value.progress[l.value]}),P(async()=>{}),M(()=>l.value,(r,a)=>{console.log("WATCH Page changed!",r),n.value=t.value.progress[r],console.log("WATCH Page changed!",n.value.chapterId)}),(r,a)=>(c(),_("div",ee,[e("div",te,[e("div",oe,[(c(),x(Y,{class:"sidebar-layout",key:t.value._id+l.value,project:t.value,page:l.value,onUpdatePage:a[0]||(a[0]=d=>l.value=d)},null,8,["project","page"]))]),e("div",se,[ae,(c(),x(T,{lessonId:j(n).chapterId,key:j(n).chapterId},null,8,["lessonId"]))])])]))}},he=k(le,[["__scopeId","data-v-7c258091"]]);export{he as default};
